/* --- SEKCJA 0: IMPORT I DEFINICJE MOTYWÓW --- */   

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

body[data-theme="dark"] {
    --bg-color: #0A0A0A;
    --panel-color: #121212;
    --border-color: #2F2F2F;
    --text-color: #E0E0E0;
    --text-muted: #888;
    --green: #00FF7F;
    --red: #FF4500;
    --blue: #00BFFF;
    --accent-color: #FF00FF;
    --prestige-star: #FFD700; /* Złoty kolor dla gwiazdek */
}
body[data-theme="light"] {
    --bg-color: #F4F7F6;
    --panel-color: #FFFFFF;
    --border-color: #DDE2E1;
    --text-color: #111111;
    --text-muted: #555;
    --green: #28a745;
    --red: #dc3545;
    --blue: #007bff;
    --accent-color: #F58400;
    --prestige-star: #E6A700;
}
body[data-theme="dim"] {
    --bg-color: #1a1e25;
    --panel-color: #252a34;
    --border-color: #3b4252;
    --text-color: #e5e9f0;
    --text-muted: #a3acb9;
    --green: #28a745;
    --red: #dc3545;
    --blue: #007bff;
    --accent-color: #ffc107;
    --prestige-star: #ffc107;
}


/* --- SEKCJA 1: USTAWIENIA GLOBALNE --- */

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.panel, input, button, select, #leaderboard-list li {
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.2s ease;
}


/* =================================== */
/* === SEKCJA 1.5: ANIMACJA STARTOWA === */
/* =================================== */

#splash-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--bg-color); 
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    animation: fadeOutSplash 1s ease-out 9s forwards;
    opacity: 1; 
}

#splash-title {
    font-size: 3em;
    font-weight: 700;
    animation: colorChangeSplash 9s ease-in-out forwards;
}

@keyframes colorChangeSplash {
    0% {
        color: #FFFFFF; 
        opacity: 0;
        transform: scale(0.8);
    }
    10% {
        opacity: 1;
        transform: scale(1);
    }
    45% {
        color: var(--blue); 
    }
    80% {
        color: var(--green);
    }
    100% {
        color: var(--green);
        opacity: 0;
        transform: scale(1.2);
    }
}

@keyframes fadeOutSplash {
    0% {
        opacity: 1;
    }
    99% {
        opacity: 0;
    }
    100% {
        opacity: 0;
        visibility: hidden; 
    }
}

@media (max-width: 800px) {
    #splash-title {
        font-size: 2em; 
    }
}

/* =================================== */
/* ======== KONIEC SEKCJI 1.5 ======== */
/* =================================== */


/* --- STYLE LOGOWANIA --- */
#auth-container {
    display: flex;
    max-width: 400px;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 50px;
}
.auth-panel {
    flex: 1;
    min-width: 300px;
    background-color: var(--panel-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}
.auth-panel h2 {
    margin-top: 0;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 10px;
    color: var(--text-muted);
}
.auth-panel form {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
.auth-panel label {
    font-size: 0.9em;
    color: var(--text-muted);
}
.auth-panel input {
    padding: 10px;
    border: 1px solid var(--border-color);
    background-color: var(--bg-color);
    color: var(--text-color);
    border-radius: 4px;
    font-size: 1em;
}
body[data-theme="dark"] .auth-panel input:focus {
    border-color: var(--blue);
    box-shadow: 0 0 8px var(--blue);
    outline: none;
}
.auth-panel button {
    padding: 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    font-size: 1em;
    background-color: var(--blue);
    color: white;
    margin-top: 10px;
}
body[data-theme="dark"] .auth-panel button:hover {
    box-shadow: 0 0 10px var(--blue);
}

#reset-password-link {
    color: var(--text-muted);
    text-decoration: none;
    font-size: 0.9em;
    margin-top: 10px;
    display: inline-block;
}
#reset-password-link:hover {
    color: var(--blue);
    text-decoration: underline;
}

#register-panel {
    display: none;
}
#auth-container.show-register #register-panel {
    display: block;
}
#auth-container.show-register #login-panel {
    display: none;
}
.auth-toggle {
    text-align: center;
    margin-top: 15px;
    font-size: 0.9em;
    color: var(--text-muted);
}
.auth-toggle a {
    color: var(--blue);
    text-decoration: none;
    font-weight: bold;
}
.auth-toggle a:hover {
    text-decoration: underline;
}
#auth-message {
    width: 100%;
    text-align: center;
    font-size: 1.1em;
    min-height: 20px;
    margin-top: 15px;
}


.hidden {
    display: none !important;
}

/* --- STYLE SYMULATORA --- */
#simulator-container {
    width: 100%;
    max-width: 1400px;
}

header {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 20px;
    margin-bottom: 20px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--border-color);
}
header h1 { 
    margin: 0; 
    color: var(--blue);
    order: 1;
}
#theme-switcher {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.9em;
    margin-left: auto;
    order: 2;
}
#theme-switcher select {
    background-color: var(--panel-color);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 3px 5px;
    font-family: 'Inter', sans-serif;
    transition: background-color 0.3s ease, border-color 0.3s ease;
}
#user-info {
    order: 3;
    display: flex; /* NOWOŚĆ: dla gwiazdek */
    align-items: center;
    gap: 5px;
}
#logout-button {
    background: var(--red); color: white; border: none;
    padding: 5px 10px; border-radius: 4px; cursor: pointer;
    font-size: 0.8em; margin-left: 10px;
}
body[data-theme="dark"] #logout-button:hover {
    box-shadow: 0 0 10px var(--red);
}

/* --- NOWE STYLE DLA RADIA (ARCHIVE.ORG) --- */
#archive-radio-player {
    display: flex;
    align-items: center;
    order: 2; /* Ten sam order co theme-switcher */
    margin-left: 20px; /* Drobny odstęp */
}
#archive-radio-player iframe {
    border: 1px solid var(--border-color); /* Lepsze wpasowanie w motyw */
    border-radius: 4px;
}
/* --- KONIEC STYLI RADIA --- */


/* =================================== */
/* === SEKCJA 3.5: PASEK GIEŁDOWY (TICKER) === */
/* =================================== */
.ticker-wrap {
    width: 100%;
    overflow: hidden;
    background-color: var(--panel-color); 
    border: 1px solid var(--border-color);
    border-radius: 4px;
    padding: 10px 0;
    box-sizing: border-box;
    margin-bottom: 20px; 
}

#ticker-content {
    display: inline-block; 
    white-space: nowrap; 
    
    transform: translateX(-50%);
    animation: ticker-scroll-right 60s linear infinite; 
}

#ticker-content:hover {
    animation-play-state: paused;
}

.ticker-item {
    display: inline-block;
    padding: 0 20px;
    font-size: 1.1em;
    color: var(--text-muted);
    border-right: 1px solid var(--border-color);
}
.ticker-item strong {
    color: var(--text-color);
    margin-left: 8px;
    margin-right: 5px;
}
.ticker-up {
    color: var(--green) !important;
    font-weight: bold;
}
.ticker-down {
    color: var(--red) !important;
    font-weight: bold;
}

@keyframes ticker-scroll-right {
    0% {
        transform: translateX(-50%); 
    }
    100% {
        transform: translateX(0); 
    }
}

@media (max-width: 800px) {
    .ticker-item {
        font-size: 0.9em;
        padding: 0 15px;
    }
    #ticker-content {
        animation-duration: 40s;
    }
}
/* =================================== */
/* ======== KONIEC SEKCJI 3.5 ======== */
/* =================================== */


/* === ZAKTUALIZOWANA SIATKA (GRID) === */
/* Zostanie zdefiniowana na końcu pliku w media queries */

#market-panel { grid-area: market; }
#portfolio-panel { grid-area: portfolio; }
#order-panel { grid-area: order; }
#rumors-panel { grid-area: rumors; }
#leaderboard-panel { grid-area: leaderboard; }
#bonds-panel { grid-area: bonds; }
#betting-panel { grid-area: betting; } 
#casino-panel { grid-area: casino; text-align: center; } /* <-- NOWE */
#chat-panel { grid-area: chat; }
#history-tabs-panel { grid-area: history; }
#help-panel { grid-area: help; }


.panel {
    background-color: var(--panel-color);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}
h2, h3 { 
    margin-top: 0; border-bottom: 1px solid var(--border-color);
    padding-bottom: 10px; color: var(--text-muted); font-size: 1.2em;
}

/* === NOWE STYLE DLA NAGŁÓWKA Z PRZYCISKIEM === */
.panel-header-with-button {
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid var(--border-color);
    margin-bottom: 15px; 
}
.panel-header-with-button h2 {
    border-bottom: none; 
    margin-bottom: 0; 
    padding-bottom: 10px; 
}
.clear-btn {
    background: none;
    border: 1px solid var(--red);
    color: var(--red);
    padding: 3px 8px;
    font-size: 0.8em;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s ease, background-color 0.2s ease, box-shadow 0.2s ease;
}
.clear-btn:hover {
    background: rgba(220, 53, 69, 0.1);
    opacity: 1;
}
body[data-theme="dark"] .clear-btn:hover {
    background: rgba(255, 69, 0, 0.1);
    box-shadow: 0 0 5px var(--red);
}
/* === KONIEC NOWYCH STYLI === */


/* Panel Rynku i Wykresu */
#price-container { font-size: 1.5em; margin-bottom: 20px; }
#stock-price { 
    font-weight: bold; 
    transition: color 0.3s ease, background-color 0.3s ease, text-shadow 0.3s ease; 
    padding: 2px 6px;
    border-radius: 4px;
}
#chart-container { width: 100%; min-height: 300px; }

/* Panel Portfela */
#portfolio-chart-container {
    min-height: 150px;
    margin-bottom: 15px;
}
/* Ustawienie portfela w dwóch kolumnach na większych ekranach */
@media (min-width: 801px) {
    #portfolio-panel {
        display: grid;
        grid-template-columns: 1fr 1fr;
        grid-template-areas: 
            "header header"
            "chart list"
            "chart cash"
            "chart hr1"
            "chart shares_header"
            "chart shares"
            "chart hr2"
            "chart total"
            "chart profit"
            "casino pvp";
        gap: 0 20px; /* 0 odstępu pionowego, 20px poziomego */
        align-content: start;
    }
    #portfolio-panel h2 { grid-area: header; }
    #portfolio-chart-container { grid-area: chart; min-height: 300px; margin-bottom: 0; }
    #portfolio-panel > p:nth-of-type(1) { grid-area: cash; margin: 0; } /* Gotówka */
    #portfolio-panel > hr:nth-of-type(1) { grid-area: hr1; }
    /* Ten div jest generowany przez JS, ale dodajemy styl, jakby był */
    #shares-list { grid-area: shares; }
    #portfolio-panel > hr:nth-of-type(2) { grid-area: hr2; }
    #portfolio-panel > p:nth-of-type(2) { grid-area: total; margin: 5px 0; } /* Wartość */
    #portfolio-panel > p:nth-of-type(3) { grid-area: profit; margin: 5px 0; } /* Zysk */
}
@media (min-width: 1200px) {
    /* Na bardzo dużych ekranach, pozwól wykresowi być większym */
    #portfolio-panel {
        grid-template-columns: 1.5fr 1fr;
    }
}


#portfolio-panel p {
    margin: 10px 0; font-size: 1.1em;
    display: flex; justify-content: space-between;
    align-items: center; 
}
#portfolio-panel hr {
    border: 0; border-top: 1px solid var(--border-color); margin: 15px 0;
}
/* NOWY: HR dla kryptowalut */
.crypto-hr {
    border-top: 1px dashed var(--accent-color) !important;
}

#total-value, #total-profit { font-size: 1.2em; font-weight: bold; }

#total-value {
    transition: color 0.3s ease, background-color 0.3s ease, text-shadow 0.3s ease; 
    padding: 2px 6px;
    border-radius: 4px;
    margin-left: 5px; 
}


/* Panel Zleceń */
/* NOWY: Wiadomość o blokadzie Krypto */
.crypto-gate-message {
    display: none; /* Domyślnie ukryte */
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 15px;
    margin-bottom: 15px;
    text-align: center;
}
.crypto-gate-message h3 {
    margin-top: 0;
    color: var(--accent-color);
    border-bottom: none;
    padding-bottom: 5px;
}
.crypto-gate-message p {
    margin: 5px 0;
    color: var(--text-muted);
    font-size: 0.9em;
}
/* Kiedy jest aktywna blokada */
#order-panel.crypto-locked .order-tabs,
#order-panel.crypto-locked .order-container {
    display: none;
}
#order-panel.crypto-locked .crypto-gate-message {
    display: block;
}


.order-tabs {
    display: flex;
    border-bottom: 1px solid var(--border-color);
    margin: -20px -20px 20px -20px; /* Rozciągnij na całą szerokość panelu */
}
.order-tab-btn {
    flex: 1;
    background: none;
    border: none;
    color: var(--text-muted);
    padding: 10px 15px;
    cursor: pointer;
    font-size: 0.9em;
    font-weight: bold;
    border-bottom: 3px solid transparent;
    transition: color 0.2s ease, border-color 0.2s ease;
}
.order-tab-btn:hover {
    color: var(--text-color);
}
.order-tab-btn.active {
    color: var(--blue);
    border-bottom-color: var(--blue);
}
.order-container {
    display: none;
    flex-direction: column;
    gap: 10px;
}
.order-container.active {
    display: flex;
}
#limit-order-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
}
#limit-order-form label {
    font-size: 0.9em;
    color: var(--text-muted);
}
#limit-order-form input, #limit-order-form select {
    padding: 10px; 
    border: 1px solid var(--border-color);
    background-color: var(--bg-color); 
    color: var(--text-color);
    border-radius: 4px; 
    font-size: 1.1em;
}
#limit-order-button {
    background-color: var(--accent-color);
    color: white;
}
body[data-theme="dark"] #limit-order-button:hover {
    box-shadow: 0 0 10px var(--accent-color);
}
body[data-theme="light"] #limit-order-button {
    color: #111;
}

.actions {
    display: grid; 
    grid-template-columns: 1fr 1fr; 
    gap: 10px; 
    align-items: center;
}
.actions label {
    grid-column: 1 / 3; 
    font-size: 0.9em; 
    color: var(--text-muted);
}
#amount-input {
    grid-column: 1 / 3; 
    padding: 10px; 
    border: 1px solid var(--border-color);
    background-color: var(--bg-color); 
    color: var(--text-color);
    border-radius: 4px; 
    font-size: 1.1em;
}
body[data-theme="dark"] #amount-input:focus,
body[data-theme="dark"] #limit-order-form input:focus,
body[data-theme="dark"] #limit-order-form select:focus {
    border-color: var(--blue);
    box-shadow: 0 0 8px var(--blue);
    outline: none;
}
button {
    padding: 12px; border: none; border-radius: 4px; cursor: pointer;
    font-weight: bold; font-size: 1em; transition: transform 0.1s ease, box-shadow 0.2s ease;
}
button:active { transform: scale(0.98); }
#buy-button { background-color: var(--green); color: white; }
#sell-button { background-color: var(--red); color: white; }

body[data-theme="dark"] #buy-button:hover {
    box-shadow: 0 0 10px var(--green);
}
body[data-theme="dark"] #sell-button:hover {
    box-shadow: 0 0 10px var(--red);
}

#message-box {
    margin-top: 15px; font-style: italic; min-height: 20px;
}

/* Style przycisków MAX */
.label-with-max {
    grid-column: 1 / 3; 
    display: flex;
    justify-content: space-between; 
    align-items: center; 
    font-size: 0.9em;
    color: var(--text-muted);
    margin-bottom: -5px; 
}
.max-buttons-group {
    display: flex;
    gap: 5px; 
}
.max-btn {
    background: none;
    border: 1px solid var(--accent-color);
    color: var(--accent-color);
    padding: 2px 8px;
    font-size: 0.8em;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
}
.max-btn:hover {
    background: rgba(255, 193, 7, 0.1);
    color: var(--accent-color);
}
body[data-theme="dark"] .max-btn:hover {
    background: rgba(255, 0, 255, 0.1);
    box-shadow: 0 0 5px var(--accent-color);
}
body[data-theme="light"] .max-btn:hover {
    background: rgba(245, 132, 0, 0.1);
}
.max-btn:active {
    transform: scale(0.97);
}
#sell-max-button {
    border-color: var(--red);
    color: var(--red);
}
#sell-max-button:hover {
    background: rgba(220, 53, 69, 0.1);
}
body[data-theme="dark"] #sell-max-button:hover {
    background: rgba(255, 69, 0, 0.1);
    box-shadow: 0 0 5px var(--red);
}
body[data-theme="light"] #sell-max-button:hover {
    background: rgba(220, 53, 69, 0.1);
}


/* Panel Plotek i Newsów */
.feed-box {
    max-height: 200px; 
    overflow-y: auto; 
    margin-bottom: 15px;
}
.feed-box p {
    margin: 5px 0; font-style: italic;
    border-bottom: 1px dashed var(--border-color);
    padding-bottom: 5px;
    word-break: break-word;
}
.feed-box p:last-child { border-bottom: none; }
/* Usunięcie marginesu dla feedów, które mają nowy nagłówek */
.panel-header-with-button + .feed-box {
    margin-bottom: 0;
}


#rumor-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 15px; 
}
#rumor-input, #rumor-company-select {
    padding: 10px; border: 1px solid var(--border-color);
    background-color: var(--bg-color); color: var(--text-color);
    border-radius: 4px; font-size: 1em;
}
body[data-theme="dark"] #rumor-input:focus,
body[data-theme="dark"] #rumor-company-select:focus {
    border-color: var(--blue);
    box-shadow: 0 0 8px var(--blue);
    outline: none;
}
#rumor-controls {
    display: flex;
    gap: 15px;
    align-items: center;
    flex-wrap: wrap;
}
#rumor-company-select {
    padding: 8px; flex-grow: 1;
}
#rumor-sentiment {
    display: flex;
    gap: 10px;
    flex-grow: 1;
}
#rumor-sentiment label {
    display: flex;
    align-items: center;
    gap: 5px;
}
#rumor-form button {
    background-color: var(--blue); color: white;
}
body[data-theme="dark"] #rumor-form button:hover {
    box-shadow: 0 0 10px var(--blue);
}
#rumors-panel hr {
    border: 0; border-top: 1px solid var(--border-color); margin: 20px 0;
}

/* NOWY: Ogólny styl dla przycisków akcji */
.action-btn-full {
    width: 100%;
    background-color: var(--blue);
    color: white;
    padding: 12px; border: none; border-radius: 4px; cursor: pointer;
    font-weight: bold; font-size: 1em;
    transition: transform 0.1s ease, box-shadow 0.2s ease;
}
.action-btn-full:active {
    transform: scale(0.98);
}
body[data-theme="dark"] .action-btn-full:hover {
    box-shadow: 0 0 10px var(--blue);
}
.action-btn-full:disabled {
    background-color: var(--text-muted);
    cursor: not-allowed;
    opacity: 0.5;
}
body[data-theme="dark"] .action-btn-full:disabled:hover {
    box-shadow: none;
}
/* Przycisk kupna wskazówki */
#buy-tip-button {
    background-color: var(--accent-color);
    color: white;
}
body[data-theme="dark"] #buy-tip-button:hover {
    box-shadow: 0 0 10px var(--accent-color);
}
body[data-theme="light"] #buy-tip-button {
    color: #111;
}

/* --- Panel Obligacji --- */
#bonds-panel p {
    font-size: 0.95em;
    color: var(--text-muted);
    line-height: 1.6;
    font-style: normal;
    border: none;
}
#bonds-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 15px;
}
#bonds-form label {
    font-size: 0.9em;
    color: var(--text-muted);
}
#bonds-form input, #bonds-form select {
    padding: 10px; 
    border: 1px solid var(--border-color);
    background-color: var(--bg-color); 
    color: var(--text-color);
    border-radius: 4px; 
    font-size: 1.1em;
}
body[data-theme="dark"] #bonds-form input:focus,
body[data-theme="dark"] #bonds-form select:focus {
    border-color: var(--green);
    box-shadow: 0 0 8px var(--green);
    outline: none;
}
#buy-bond-button {
    background-color: var(--green); /* Zielony, bo to 'pewny' zakup */
    color: white;
}
body[data-theme="dark"] #buy-bond-button:hover {
    box-shadow: 0 0 10px var(--green);
}
#bonds-panel hr {
    border: 0; border-top: 1px solid var(--border-color); margin: 20px 0;
}
#active-bonds-feed {
    max-height: 150px; /* Mniejsza wysokość niż inne feedy */
}
/* --- Koniec Panelu Obligacji --- */


/* =================================== */
/* === NOWY: Panel Zakładów Sportowych === */
/* =================================== */
#betting-panel #match-info p {
    font-size: 1.1em;
    color: var(--text-muted);
    line-height: 1.6;
    font-style: normal;
    border: none;
    margin: 5px 0;
}
#betting-panel #match-info p strong {
    color: var(--text-color);
}
/* NOWY: Styl dla kursu na remis */
#draw-odds-display {
    font-style: italic;
    color: var(--blue) !important;
}
#draw-odds-display strong {
    color: var(--blue) !important;
}

#betting-form {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 15px;
}
#betting-form label {
    font-size: 0.9em;
    color: var(--text-muted);
}
#betting-form input, #betting-form select {
    padding: 10px; 
    border: 1px solid var(--border-color);
    background-color: var(--bg-color); 
    color: var(--text-color);
    border-radius: 4px; 
    font-size: 1.1em;
}
body[data-theme="dark"] #betting-form input:focus,
body[data-theme="dark"] #betting-form select:focus {
    border-color: var(--accent-color);
    box-shadow: 0 0 8px var(--accent-color);
    outline: none;
}
#place-bet-button {
    background-color: var(--accent-color);
    color: white;
}
body[data-theme="dark"] #place-bet-button:hover {
    box-shadow: 0 0 10px var(--accent-color);
}
body[data-theme="light"] #place-bet-button {
    color: #111;
}
#betting-panel hr {
    border: 0; border-top: 1px solid var(--border-color); margin: 20px 0;
}
#active-bets-feed {
    max-height: 150px;
}
/* === Koniec Panelu Zakładów === */


/* =================================== */
/* === NOWY WYGLĄD RANKINGU (LISTA) === */
/* =================================== */

#leaderboard-list {
    padding-left: 0;
    margin: 0;
    max-height: 300px;
    overflow-y: auto;
    list-style: none;
}

#leaderboard-list li {
    padding: 10px 12px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.2s ease;
}

#leaderboard-list li:hover {
    background-color: rgba(255, 255, 255, 0.03);
}

/* Lewa sekcja (Rank, Nazwa, Gwiazdki, Zysk) */
.leaderboard-left {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

/* Styl dla klikalnego obszaru */
.clickable-area {
    cursor: pointer;
    padding-right: 15px; /* Większy obszar trafienia */
}

/* Pierwsza linia: Nr + Nazwa + Gwiazdki */
.leaderboard-top-row {
    display: flex;
    align-items: center;
    gap: 8px;
}

.leaderboard-rank {
    color: var(--text-muted);
    font-size: 0.9em;
    min-width: 20px;
}

.leaderboard-name {
    color: #FFFFFF !important; /* Biała nazwa */
    font-weight: 700;
    font-size: 1.05em;
    transition: color 0.2s;
}

/* Podświetlenie nazwy po najechaniu na blok */
.clickable-area:hover .leaderboard-name {
    color: var(--blue) !important;
    text-decoration: underline;
}

/* Druga linia: Zysk */
.leaderboard-profit {
    font-size: 0.85em;
    margin-left: 28px; /* Wcięcie pod nazwę */
    font-weight: 500;
    text-decoration: none !important;
}

/* Kolory zysku */
.profit-plus { color: var(--green); }
.profit-minus { color: var(--red); }

/* Prawa strona: Wartość portfela */
.leaderboard-total {
    font-weight: bold;
    font-size: 1.1em;
    color: var(--text-color);
}

/* Styl dla aktualnego gracza (Ty) */
#leaderboard-list li.highlight-me {
    background-color: rgba(255, 193, 7, 0.1);
    border-left: 4px solid var(--accent-color);
}

body[data-theme="dark"] #leaderboard-list li.highlight-me {
    background-color: rgba(255, 0, 255, 0.1); 
}

/* NOWE: Zakładki Typu Rynku (Akcje/Krypto) */
.market-type-selector {
    display: flex;
    border-bottom: 1px solid var(--border-color);
    margin: -20px -20px 10px -20px; /* Rozciągnij na całą szerokość panelu */
}
.market-type-tab {
    flex: 1;
    background: none;
    border: none;
    color: var(--text-muted);
    padding: 12px 15px;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: bold;
    border-bottom: 3px solid transparent;
    transition: color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
}
.market-type-tab:hover {
    color: var(--text-color);
}
.market-type-tab.active {
    color: var(--green);
    border-bottom-color: var(--green);
}
body[data-theme="dark"] .market-type-tab.active {
    text-shadow: 0 0 5px var(--green);
}

/* Zakładki spółek */
#company-selector, #crypto-selector {
    display: flex;
    border-bottom: 1px solid var(--border-color);
    margin: 0 -20px 15px -20px; /* Usunięto margines górny */
    padding: 0 10px; /* Dodano padding boczny */
    flex-wrap: wrap;
    background-color: var(--bg-color); /* Tło, aby zakryć linię pod spodem */
    border-top: 1px solid var(--border-color); /* Linia oddzielająca od zakładki Akcje/Krypto */
}
#crypto-selector {
    border-bottom-color: var(--accent-color);
}

.company-tab {
    background: none;
    border: none;
    color: var(--text-muted);
    padding: 10px 15px;
    cursor: pointer;
    font-size: 1em;
    font-weight: bold;
    border-bottom: 3px solid transparent;
    transition: color 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
    flex-grow: 1; /* Aby zakładki wypełniły przestrzeń */
    text-align: center;
}
.company-tab:hover {
    color: var(--text-color);
}
/* Aktywna zakładka akcji */
.company-tab.active {
    color: var(--blue);
    border-bottom-color: var(--blue);
}
body[data-theme="dark"] .company-tab.active {
    text-shadow: 0 0 5px var(--blue);
}

/* Aktywna zakładka krypto */
#crypto-selector .company-tab.active {
    color: var(--accent-color);
    border-bottom-color: var(--accent-color);
}
body[data-theme="dark"] #crypto-selector .company-tab.active {
    text-shadow: 0 0 5px var(--accent-color);
}


/* Panel portfela */
#shares-list p {
    margin: 10px 0;
    font-size: 1.1em;
    display: flex;
    justify-content: space-between;
}
#shares-list p strong {
    color: var(--text-muted);
}

/* --- STYLE DLA CZATU --- */
#chat-feed {
    height: 150px; 
    font-style: normal; 
}
#chat-feed p {
    margin: 3px 0;
    padding: 3px;
    border-bottom: none; 
    font-style: normal; 
}
#chat-feed p strong {
    color: var(--blue); 
}
#chat-feed p.my-message strong {
    color: var(--accent-color);
}
/* NOWY: Klikalna nazwa użytkownika */
.clickable-user {
    cursor: pointer;
    text-decoration: underline;
    text-decoration-color: transparent;
    transition: text-decoration-color 0.2s ease;
}
.clickable-user:hover {
    text-decoration-color: var(--blue);
}
#chat-feed p.my-message .clickable-user:hover {
    text-decoration-color: var(--accent-color);
}

/* NOWE: Style dla gwiazdek */
.prestige-stars {
    display: inline-block;
    margin-left: 4px;
    line-height: 1;
}
.star-icon {
    color: var(--prestige-star);
    font-size: 1.1em;
    text-shadow: 0 0 3px var(--prestige-star);
}
/* Mniejsze gwiazdki w czacie */
#chat-feed .star-icon {
    font-size: 0.9em;
}


#chat-form {
    display: flex;
    gap: 10px;
    margin-top: 15px; 
}
#chat-input {
    flex: 1;
    padding: 10px;
    border: 1px solid var(--border-color);
    background-color: var(--bg-color);
    color: var(--text-color);
    border-radius: 4px;
    font-size: 1em;
}
body[data-theme="dark"] #chat-input:focus {
    border-color: var(--green);
    box-shadow: 0 0 8px var(--green);
    outline: none;
}
#chat-form button {
    background-color: var(--green);
    color: white;
}
body[data-theme="dark"] #chat-form button:hover {
    box-shadow: 0 0 10px var(--green);
}

/* --- STYLE DLA PANELU ZAKŁADEK (Historia i Zlecenia) --- */
.tab-buttons {
    display: flex;
    border-bottom: 1px solid var(--border-color);
    margin: -20px -20px 0 -20px; /* Rozciągnij na całą szerokość panelu */
    flex-wrap: wrap;
}
.tab-btn {
    flex: 1;
    background: none;
    border: none;
    color: var(--text-muted);
    padding: 10px 15px;
    cursor: pointer;
    font-size: 1em;
    font-weight: bold;
    border-bottom: 3px solid transparent;
    transition: color 0.2s ease, border-color 0.2s ease;
}
.tab-btn:hover {
    color: var(--text-color);
}
.tab-btn.active {
    color: var(--accent-color);
    border-bottom-color: var(--accent-color);
}
body[data-theme="dark"] .tab-btn.active {
    text-shadow: 0 0 5px var(--accent-color);
}
.tab-content {
    display: none;
    padding-top: 20px;
}
.tab-content.active {
    display: block;
}


/* --- STYLE DLA HISTORII TRANSAKCJI --- */
.history-feed {
    max-height: 200px;
    font-style: normal;
}
.history-feed p {
    font-style: normal;
    font-size: 0.9em;
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    gap: 5px;
}
.history-feed .h-user {
    font-weight: bold;
    color: var(--blue);
}
.history-feed .h-action-buy {
    font-weight: bold;
    color: var(--green);
}
.history-feed .h-action-sell {
    font-weight: bold;
    color: var(--red);
}
.history-feed .h-details {
    color: var(--text-color);
}
.history-feed .h-total {
    color: var(--text-muted);
    font-style: italic;
    flex-basis: 100%;
    text-align: right;
}
/* Specjalny styl dla wskazówek w historii */
.history-feed .h-action-tip {
    font-weight: bold;
    color: var(--accent-color);
}
/* NOWY: Specjalny styl dla obligacji w historii */
.history-feed .h-action-bond {
    font-weight: bold;
    color: var(--green);
}
/* NOWY: Specjalny styl dla krypto w historii */
.history-feed .h-action-buy-crypto {
    font-weight: bold;
    color: var(--accent-color);
}
.history-feed .h-action-sell-crypto {
    font-weight: bold;
    color: #FF6384; /* Inny odcień czerwieni dla krypto */
}

.history-feed .h-status-pending {
    color: var(--blue);
}


/* --- NOWE STYLE DLA ZLECEŃ LIMIT --- */
#limit-orders-feed {
    max-height: 200px;
    overflow-y: auto;
}
.limit-order-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.9em;
}
.limit-order-table th, .limit-order-table td {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid var(--border-color);
}
.limit-order-table th {
    color: var(--text-muted);
    font-size: 0.9em;
}
.l-type-buy { color: var(--green); font-weight: bold; }
.l-type-sell { color: var(--red); font-weight: bold; }
/* NOWY: Style dla krypto w zleceniach */
.l-type-buy-crypto { color: var(--accent-color); font-weight: bold; }
.l-type-sell-crypto { color: #FF6384; font-weight: bold; }

.l-status-pending { color: var(--blue); font-style: italic; }
.l-status-executed { color: var(--green); }
.l-status-cancelled { color: var(--text-muted); text-decoration: line-through; }

.cancel-order-btn {
    background: none;
    border: 1px solid var(--red);
    color: var(--red);
    padding: 3px 8px;
    font-size: 0.9em;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.2s ease, background-color 0.2s ease;
}
.cancel-order-btn:hover {
    background: rgba(220, 53, 69, 0.1);
    opacity: 1;
}
.cancel-order-btn:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    border-color: var(--text-muted);
    color: var(--text-muted);
}
.cancel-order-btn:disabled:hover {
    background: none;
}


/* --- MIGOTANIE I RANKING --- */
@keyframes flash-green {
    0% { background-color: rgba(40, 167, 69, 0.5); }
    100% { background-color: transparent; }
}
body[data-theme="dark"] @keyframes flash-green {
    0% { background-color: rgba(0, 255, 127, 0.4); text-shadow: 0 0 5px var(--green); }
    100% { background-color: transparent; text-shadow: none; }
}
@keyframes flash-red {
    0% { background-color: rgba(220, 53, 69, 0.5); }
    100% { background-color: transparent; }
}
body[data-theme="dark"] @keyframes flash-red {
    0% { background-color: rgba(255, 69, 0, 0.4); text-shadow: 0 0 5px var(--red); }
    100% { background-color: transparent; text-shadow: none; }
}

/* NOWE: Migotanie dla Krypto */
@keyframes flash-accent {
    0% { background-color: rgba(255, 193, 7, 0.5); }
    100% { background-color: transparent; }
}
body[data-theme="dark"] @keyframes flash-accent {
    0% { background-color: rgba(255, 0, 255, 0.4); text-shadow: 0 0 5px var(--accent-color); }
    100% { background-color: transparent; text-shadow: none; }
}


.flash-green { animation: flash-green 0.7s ease-out; }
.flash-red { animation: flash-red 0.7s ease-out; }
.flash-accent { animation: flash-accent 0.7s ease-out; } /* Dla krypto */

#leaderboard-list li.highlight-me {
    background-color: rgba(255, 193, 7, 0.15);
    border-left: 3px solid var(--accent-color);
    padding-left: 9px; 
}
body[data-theme="dark"] #leaderboard-list li.highlight-me {
    background-color: rgba(255, 0, 255, 0.1); 
}
body[data-theme="light"] #leaderboard-list li.highlight-me {
    background-color: rgba(245, 132, 0, 0.1); 
}

/* NOWY: Panel Pomocy */
#help-panel h3 {
    color: var(--text-color);
    border-bottom: none;
    font-size: 1.1em;
}
#help-panel p {
    font-size: 0.95em;
    color: var(--text-muted);
    line-height: 1.6;
}
#help-panel ul {
    font-size: 0.95em;
    color: var(--text-muted);
    line-height: 1.6;
    padding-left: 20px;
}
#help-panel li {
    margin-bottom: 5px;
}
#help-panel strong {
    color: var(--text-color);
}

/* --- SEKCJA 9: POWIADOMIENIA (TOASTY) --- */

#notification-container {
    position: fixed;
    bottom: 20px;
    left: 20px;
    z-index: 10000;
    display: flex;
    flex-direction: column-reverse; /* Nowe elementy pojawiają się na dole */
    gap: 10px;
}

.notification-toast {
    background-color: var(--panel-color);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    padding: 15px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    font-size: 0.9em;
    width: 300px; /* Stała szerokość */
    animation: toast-fade-in 0.5s ease forwards;
    opacity: 0; /* Zacznij jako niewidoczny */
    transform: translateX(-100%);
}

.notification-toast strong {
    color: var(--text-color);
    display: block;
    margin-bottom: 5px;
    font-size: 1.1em;
}
.notification-toast p {
    margin: 0;
    font-style: normal;
    color: var(--text-muted);
    border: none;
    padding: 0;
}
.notification-toast p strong {
    /* Styl dla nazwy użytkownika w czacie */
    color: var(--blue);
    display: inline;
}

/* Style dla typów */
.toast-chat .toast-chat-header {
    color: var(--accent-color) !important;
}

.toast-news.toast-positive {
    border-left: 4px solid var(--green);
}
.toast-news.toast-positive > strong {
    color: var(--green);
}

.toast-news.toast-negative {
    border-left: 4px solid var(--red);
}
.toast-news.toast-negative > strong {
    color: var(--red);
}

/* NOWY: Typ wskazówki */
.toast-tip {
    border-left: 4px solid var(--accent-color);
}
.toast-tip > strong {
    color: var(--accent-color);
}


/* Animacje Wejścia/Wyjścia */
@keyframes toast-fade-in {
    from {
        opacity: 0;
        transform: translateX(-100%);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Animacja wyjścia będzie dodana przez JS */
.toast-fade-out {
    animation: toast-fade-out 0.5s ease forwards;
}

@keyframes toast-fade-out {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(-100%);
    }
}



    /* Styl dla tabeli harmonogramu */
    .schedule-wrapper {
        margin-top: 20px;
        overflow-x: auto; /* Przewijanie na telefonach */
        border-radius: 8px;
        background: rgba(0, 0, 0, 0.2);
        border: 1px solid #444;
    }

    .schedule-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.9em;
        color: #e0e0e0;
    }

    .schedule-table thead {
        background-color: #2a2a2a; /* Ciemne tło nagłówka */
        color: #fff;
        text-transform: uppercase;
        font-size: 0.85em;
        letter-spacing: 1px;
    }

    .schedule-table th, .schedule-table td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #444;
    }

    .schedule-table tbody tr:hover {
        background-color: rgba(255, 255, 255, 0.05); /* Podświetlenie wiersza */
    }

    .schedule-table tbody tr:last-of-type td {
        border-bottom: none;
    }

    .odds-cell {
        font-weight: bold;
        color: #4caf50; /* Zielony kolor dla kursów */
        font-family: monospace;
    }

    .status-live {
        color: #ff4444;
        font-weight: bold;
        animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
    }

/* =================================== */
/* === SEKCJA 10: MODAL PROFILU UŻYTKOWNIKA === */
/* =================================== */

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9990;
    animation: fadeInModal 0.3s ease;
}
.modal-overlay.hidden {
    display: none;
}
@keyframes fadeInModal {
    from { opacity: 0; }
    to { opacity: 1; }
}
.modal-content {
    width: 90%;
    max-width: 700px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    animation: slideInModal 0.3s ease-out;
}
@keyframes slideInModal {
    from { transform: translateY(-30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.modal-close {
    position: absolute;
    top: 10px;
    right: 15px;
    font-size: 2.5em;
    font-weight: bold;
    color: var(--text-muted);
    background: none;
    border: none;
    cursor: pointer;
    line-height: 1;
}
.modal-close:hover {
    color: var(--red);
}

.modal-body {
    display: grid;
    grid-template-columns: 1.5fr 1fr;
    gap: 20px;
    margin: 20px 0;
}
#modal-portfolio-chart-container {
    min-height: 250px;
}
#modal-stats p {
    margin: 10px 0;
    font-size: 1.1em;
    display: flex;
    justify-content: space-between;
}
#modal-stats p strong {
    color: var(--text-color);
}
#modal-shares-list {
    max-height: 150px;
    overflow-y: auto;
}
#modal-shares-list p {
    font-style: normal;
    display: flex;
    justify-content: space-between;
    font-size: 1em;
    border-bottom: 1px dashed var(--border-color);
    padding-bottom: 5px;
    margin: 5px 0;
}
#modal-shares-list p strong {
    color: var(--text-muted);
}
#modal-total-profit[data-profit-sign="positive"] {
    color: var(--green);
}
#modal-total-profit[data-profit-sign="negative"] {
    color: var(--red);
}

/* NOWY: Style dla przycisku prestiżu */
#prestige-info, #prestige-next-goal {
    font-size: 0.9em !important;
    color: var(--text-muted);
}
#prestige-next-goal {
    margin-top: -5px;
}
#prestige-button {
    background-color: var(--prestige-star);
    color: #111;
    margin-top: 10px;
}
body[data-theme="dark"] #prestige-button:hover:not(:disabled) {
    box-shadow: 0 0 10px var(--prestige-star);
}
#prestige-button:disabled {
    background-color: var(--text-muted);
    color: var(--panel-color);
    opacity: 0.5;
}


@media (max-width: 600px) {
    .modal-body {
        grid-template-columns: 1fr;
    }
}
/* --- NOWE STYLE: ZAKŁADY Z PODZIAŁEM NA DNI --- */

/* Pasek z przyciskami dni */
.betting-days-nav {
    display: flex;
    gap: 10px;
    overflow-x: auto; /* Przewijanie na telefonie */
    padding-bottom: 10px;
    margin-bottom: 15px;
    border-bottom: 1px solid var(--border-color);
}

.day-tab-btn {
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    color: var(--text-muted);
    padding: 8px 15px;
    border-radius: 20px; /* Zaokrąglone przyciski */
    cursor: pointer;
    white-space: nowrap;
    font-size: 0.9em;
    font-weight: bold;
    transition: all 0.2s ease;
}

.day-tab-btn:hover {
    border-color: var(--blue);
    color: var(--text-color);
}

.day-tab-btn.active {
    background-color: var(--blue);
    color: white;
    border-color: var(--blue);
    box-shadow: 0 0 10px rgba(0, 123, 255, 0.3);
}

/* Tabela meczów */
.betting-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95em;
}

.betting-table th {
    text-align: left;
    color: var(--text-muted);
    font-size: 0.8em;
    padding: 5px;
    border-bottom: 1px solid var(--border-color);
}

.betting-table td {
    padding: 10px 5px;
    border-bottom: 1px dashed var(--border-color);
    vertical-align: middle;
}

.betting-table tr:last-child td {
    border-bottom: none;
}

/* Kolumny tabeli */
.col-time { width: 15%; font-size: 0.85em; color: var(--text-muted); }
.col-match { width: 40%; }
.col-odds { width: 45%; }

/* Przyciski kursów w tabeli */
.odds-btn-group {
    display: flex;
    gap: 5px;
}

.table-bet-btn {
    flex: 1;
    background: transparent;
    border: 1px solid var(--border-color);
    color: var(--text-color);
    padding: 5px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9em;
    text-align: center;
    transition: background 0.2s;
}

.table-bet-btn:hover:not(:disabled) {
    background-color: rgba(255, 255, 255, 0.05);
    border-color: var(--blue);
}

.table-bet-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    border-color: transparent;
}

.table-bet-btn small {
    display: block;
    font-size: 0.75em;
    color: var(--text-muted);
}

/* Statusy */
.match-live { color: var(--red); font-weight: bold; animation: pulse 1.5s infinite; }
.match-finished { color: var(--text-muted); font-style: italic; }


/* =============================================== */
/* === NOWA REALISTYCZNA RULETKA (CSS) === */
/* =============================================== */

.main-roulette {
  width: 374px;
  margin: 0 auto;
}

.plate {
  background-color: gray;
  width: 350px;
  height: 350px;
  margin: 12px;
  border-radius: 50%;
  position: relative;
  animation: rotate-plate 24s infinite linear;
}

.plate:after,
.plate:before {
  content: '';
  display: block;
  position: absolute;
  border-radius: 50%;
}

.plate:after {
  top: -6px;
  right: -6px;
  bottom: -6px;
  left: -6px;
  border: 6px solid gold;
  box-shadow: inset 0px 0px 0px 2px #b38600, 0px 0px 0px 2px #ffdb4d;
}

/* USUWAMY SZARĄ NAKŁADKĘ */
.plate:before {
  display: none;
}

.number {
  width: 32px;
  height: 175px;
  display: inline-block;
  text-align: center;
  position: absolute;
  top: 0;
  left: calc(50% - 16px);
  transform-origin: 50% 100%;
  background-color: transparent;
  border-left: 16px solid transparent;
  border-right: 16px solid transparent;
  border-top: 175px solid black;
  box-sizing: border-box;
}

.number:nth-child(odd) {
  border-top-color: var(--red);
}

.number:nth-child(37) {
  border-top-color: var(--green);
}

.pit {
  color: #fff;
  padding-top: 12px;
  width: 32px;
  display: inline-block;
  font-size: 12px;
  transform: scale(1, 1.8);
  position: absolute;
  top: -175px;
  left: -16px;
}

.inner {
  display: block;
  height: 350px;
  width: 350px;
  position: relative;
  padding: 0;
  margin: 0;
  list-style: none;
}

.inner:after,
.inner:before {
  content: '';
  display: block;
  position: absolute;
  border-radius: 50%;
}

/* ZMIANA ŚRODKA NA MNIEJSZY I CIEMNY */
.inner:after {
  z-index: 3;
  /* Zwiększamy te wartości, żeby środek był mniejszy */
  top: 35%;
  right: 35%;
  bottom: 35%;
  left: 35%;
  background-color: #111; /* Ciemny środek zamiast szarego */
  border: 2px solid #ffd700; /* Złota obwódka dla stylu */
  box-shadow: 0 0 10px rgba(0,0,0,0.5);
}

/* PIŁECZKA W RUCHU */
.inner:before {
  /* 16% ustawia piłkę idealnie na środku kolorowych pól */
  top: 16%;
  bottom: 16%;
  left: 16%;
  right: 16%;
  content: '';
  color: #fff;
  font-size: 60px;
  z-index: 5;
  border-radius: 0;
}

/* POZYCJE PIŁECZKI (Data Spinto) - Skonwertowane z LESS */
/* POPRAWIONA LOGIKA TRAFIANIA KULI (Dopasowana do kolejności HTML: 32, 15, 19...) */
/* Kąt wycinka = 360 / 37 = ~9.73 stopnia */
/* Kolejność w HTML decyduje o indeksie (0 = 32, 1 = 15 itd.) */

/* ========================================================================== */
/* === POPRAWIONA KALIBRACJA KULI (Dopasowana do układu liczb 0-32-15...) === */
/* ========================================================================== */
/* Baza obrotu: -2880deg (8 pełnych obrotów) + Kąt liczby na kole */

.inner[data-spinto='32']:before { transform: rotateZ(-2870.27deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='15']:before { transform: rotateZ(-2860.54deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='19']:before { transform: rotateZ(-2850.81deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='4']:before  { transform: rotateZ(-2841.08deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='21']:before { transform: rotateZ(-2831.35deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='2']:before  { transform: rotateZ(-2821.62deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='25']:before { transform: rotateZ(-2811.89deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='17']:before { transform: rotateZ(-2802.16deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='34']:before { transform: rotateZ(-2792.43deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='6']:before  { transform: rotateZ(-2782.70deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='27']:before { transform: rotateZ(-2772.97deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='13']:before { transform: rotateZ(-2763.24deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='36']:before { transform: rotateZ(-2753.51deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='11']:before { transform: rotateZ(-2743.78deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='30']:before { transform: rotateZ(-2734.05deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='8']:before  { transform: rotateZ(-2724.32deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='23']:before { transform: rotateZ(-2714.59deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='10']:before { transform: rotateZ(-2704.86deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='5']:before  { transform: rotateZ(-2695.14deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='24']:before { transform: rotateZ(-2685.41deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='16']:before { transform: rotateZ(-2675.68deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='33']:before { transform: rotateZ(-2665.95deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='1']:before  { transform: rotateZ(-2656.22deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='20']:before { transform: rotateZ(-2646.49deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='14']:before { transform: rotateZ(-2636.76deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='31']:before { transform: rotateZ(-2627.03deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='9']:before  { transform: rotateZ(-2617.30deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='22']:before { transform: rotateZ(-2607.57deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='18']:before { transform: rotateZ(-2597.84deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='29']:before { transform: rotateZ(-2588.11deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='7']:before  { transform: rotateZ(-2578.38deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='28']:before { transform: rotateZ(-2568.65deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='12']:before { transform: rotateZ(-2558.92deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='35']:before { transform: rotateZ(-2549.19deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='3']:before  { transform: rotateZ(-2539.46deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='26']:before { transform: rotateZ(-2529.73deg); transition: transform 6s ease-out; content: '\2022'; }
.inner[data-spinto='0']:before  { transform: rotateZ(-2880.00deg); transition: transform 6s ease-out; content: '\2022'; }

/* PIŁECZKA ZATRZYMANA */
.inner.rest:before {
  transition: top .5s ease-in, right .5s ease-in, bottom .5s ease-in, left .5s ease-in;
  /* Pozycja spoczynkowa też na 16% */
  top: 16%;
  right: 16%;
  bottom: 16%;
  left: 16%;
}

/* ROTACJA PÓL (0-36) - Skonwertowane z LESS Loop */
.number:nth-child(1) { transform: rotateZ(9.7297deg); }
.number:nth-child(2) { transform: rotateZ(19.4594deg); }
.number:nth-child(3) { transform: rotateZ(29.1891deg); }
.number:nth-child(4) { transform: rotateZ(38.9189deg); }
.number:nth-child(5) { transform: rotateZ(48.6486deg); }
.number:nth-child(6) { transform: rotateZ(58.3783deg); }
.number:nth-child(7) { transform: rotateZ(68.1081deg); }
.number:nth-child(8) { transform: rotateZ(77.8378deg); }
.number:nth-child(9) { transform: rotateZ(87.5675deg); }
.number:nth-child(10) { transform: rotateZ(97.2972deg); }
.number:nth-child(11) { transform: rotateZ(107.027deg); }
.number:nth-child(12) { transform: rotateZ(116.7567deg); }
.number:nth-child(13) { transform: rotateZ(126.4864deg); }
.number:nth-child(14) { transform: rotateZ(136.2162deg); }
.number:nth-child(15) { transform: rotateZ(145.9459deg); }
.number:nth-child(16) { transform: rotateZ(155.6756deg); }
.number:nth-child(17) { transform: rotateZ(165.4054deg); }
.number:nth-child(18) { transform: rotateZ(175.1351deg); }
.number:nth-child(19) { transform: rotateZ(184.8648deg); }
.number:nth-child(20) { transform: rotateZ(194.5945deg); }
.number:nth-child(21) { transform: rotateZ(204.3243deg); }
.number:nth-child(22) { transform: rotateZ(214.054deg); }
.number:nth-child(23) { transform: rotateZ(223.7837deg); }
.number:nth-child(24) { transform: rotateZ(233.5135deg); }
.number:nth-child(25) { transform: rotateZ(243.2432deg); }
.number:nth-child(26) { transform: rotateZ(252.9729deg); }
.number:nth-child(27) { transform: rotateZ(262.7027deg); }
.number:nth-child(28) { transform: rotateZ(272.4324deg); }
.number:nth-child(29) { transform: rotateZ(282.1621deg); }
.number:nth-child(30) { transform: rotateZ(291.8918deg); }
.number:nth-child(31) { transform: rotateZ(301.6216deg); }
.number:nth-child(32) { transform: rotateZ(311.3513deg); }
.number:nth-child(33) { transform: rotateZ(321.081deg); }
.number:nth-child(34) { transform: rotateZ(330.8108deg); }
.number:nth-child(35) { transform: rotateZ(340.5405deg); }
.number:nth-child(36) { transform: rotateZ(350.2702deg); }
.number:nth-child(37) { transform: rotateZ(360deg); }

@keyframes rotate-plate {
  0% { transform: rotateZ(0deg); }
  100% { transform: rotateZ(360deg); }
}

/* Środek - Wyniki */
.data {
  display: block;
  position: absolute;
  /* Zmieniamy na 35%, żeby pasowało do nowego mniejszego środka */
  top: 35%;
  right: 35%;
  bottom: 35%;
  left: 35%;
  border-radius: 50%;
  animation: rotate-plate 24s reverse linear infinite;
  perspective: 2000px;
  z-index: 100;
}

.data-inner {
  position: relative;
  width: 100%;
  height: 100%;
  text-align: center;
  transition: transform 0.72s;
  transform-style: preserve-3d;
}

.data.reveal .data-inner {
  transform: rotateY(180deg);
}

.mask, .result {
  top: 0; right: 0; bottom: 0; left: 0;
  position: absolute;
  backface-visibility: hidden;
  border-radius: 50%;
  overflow: hidden;
  display: inline-block;
}

.mask {
  color: #fff;
  font-size: 24px;
  margin: auto;
  line-height: 1.4;
  padding-top: 36px;
}

.result {
  background-color: green;
  color: white;
  transform: rotateY(180deg);
  align-items: center;
}

.result-number {
  font-size: 52px;
  font-weight: 500;
  line-height: 1.2;
  margin-top: 12px;
}

.result-color {
  text-transform: uppercase;
  font-size: 18px;
  line-height: 1;
}

/* Lista poprzednich wyników */
.previous-list {
  max-width: 350px;
  margin: 24px auto;
  padding: 0;
  list-style: none;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
}

.previous-result {
  width: 30px;
  height: 30px;
  margin: 2px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #fff;
  font-size: 12px;
  font-weight: bold;
  animation: flipin .48s ease-out;
}

.color-green { background-color: var(--green); }
.color-black { background-color: #111; }
.color-red { background-color: var(--red); }

@keyframes flipin {
  0% { transform: rotateX(90deg); }
  100% { transform: rotateX(0deg); }
}

/* === CIEMNY MOTYW PANELU KASYNA === */
.casino-controls {
    background-color: var(--panel-color);
    padding: 15px;
    border-radius: 8px;
    margin-top: 20px;
    border: 1px solid var(--border-color);
}

#casino-status {
    font-size: 1.2em;
    margin-bottom: 15px;
    color: var(--text-color);
    min-height: 1.5em;
}

.bet-row {
    display: flex;
    gap: 10px;
    justify-content: center;
    align-items: center;
    margin-bottom: 15px;
}

/* Ciemny input */
.dark-input {
    background-color: #1a1a1a;
    border: 1px solid #444;
    color: #fff;
    padding: 10px;
    border-radius: 4px;
    font-size: 1.1em;
    width: 120px;
    text-align: center;
}
.dark-input:focus {
    border-color: var(--green);
    outline: none;
}

/* Siatka liczb */
.bet-numbers-grid {
    display: grid;
    grid-template-columns: repeat(12, 1fr); /* 12 kolumn dla liczb 1-36 */
    gap: 5px;
    margin-bottom: 20px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

/* Zero na całą szerokość góry */
.num-0 {
    grid-column: span 12;
    background-color: var(--green);
    border-color: var(--green);
}

.num-btn {
    padding: 8px 0;
    font-weight: bold;
    color: white;
    border: 1px solid rgba(255,255,255,0.2);
    border-radius: 3px;
    cursor: pointer;
    transition: transform 0.1s, box-shadow 0.2s;
}
.num-btn:hover { transform: scale(1.1); z-index: 2; }
.num-btn.selected {
    box-shadow: 0 0 10px var(--accent-color);
    border-color: var(--accent-color);
    transform: scale(1.15);
    z-index: 3;
}

.num-red { background-color: var(--red); }
.num-black { background-color: #222; }

.spin-btn {
    background: linear-gradient(45deg, var(--green), #1e7e34);
    font-size: 1.2em;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-top: 10px;
}

/* Responsywność siatki na telefonach */
@media (max-width: 500px) {
    .bet-numbers-grid {
        grid-template-columns: repeat(6, 1fr);
    }
    .num-0 { grid-column: span 6; }
}
/* --- STYLE PVP --- */
#pvp-panel {
    grid-area: pvp;
    border: 1px solid #9966FF; /* Fioletowy akcent wyróżniający */
}

.pvp-controls {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

#pvp-amount {
    flex: 1;
    padding: 10px;
}

.pvp-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(153, 102, 255, 0.1); /* Lekki fiolet */
    border: 1px solid #9966FF;
    border-radius: 6px;
    padding: 10px 15px;
    margin-bottom: 8px;
    transition: transform 0.2s, box-shadow 0.2s;
}

.pvp-item:hover {
    transform: translateX(5px);
    box-shadow: 0 0 10px rgba(153, 102, 255, 0.3);
}

.pvp-info {
    display: flex;
    flex-direction: column;
}

.pvp-info strong {
    color: #9966FF;
    font-size: 1.2em;
}

.pvp-info span {
    color: var(--text-muted);
    font-size: 0.9em;
}

.pvp-join-btn {
    background-color: #9966FF;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    font-size: 0.9em;
}

.pvp-join-btn:disabled {
    background-color: var(--text-muted);
    cursor: default;
    opacity: 0.5;
}

body[data-theme="dark"] .pvp-join-btn:hover:not(:disabled) {
    box-shadow: 0 0 15px #9966FF;
}
/* --- OSADZONA RULETKA PVP (EMBEDDED) --- */

#pvp-embedded-roulette {
    margin-top: 20px;
    padding-top: 10px;
    animation: fadeIn 0.5s ease;
}

.pvp-title-embedded {
    text-align: center;
    color: var(--text-color);
    margin: 10px 0;
    font-size: 1.2em;
    letter-spacing: 1px;
}

/* Okno ruletki dopasowane do panelu */
.roulette-window.embedded {
    width: 100%;
    height: 100px; /* Nieco mniejsza wysokość niż w modalu */
    background-color: #000;
    position: relative;
    overflow: hidden;
    border: 2px solid var(--border-color);
    border-radius: 6px;
    margin: 0 auto;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
}

.roulette-strip {
    display: flex;
    height: 100%;
    width: max-content;
    transform: translateX(0); 
    will-change: transform;
}

.roulette-marker {
    position: absolute;
    top: 0; bottom: 0; left: 50%;
    width: 4px;
    background-color: #FFD700;
    transform: translateX(-50%);
    z-index: 10;
    box-shadow: 0 0 10px #FFD700;
}

.roulette-card {
    width: 120px; /* Węższe karty żeby lepiej wyglądały w panelu */
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-right: 1px solid #222;
    box-sizing: border-box;
    font-weight: bold;
    font-size: 0.8em; /* Mniejsza czcionka */
    padding: 5px;
    text-align: center;
    position: relative;
}

.card-creator {
    background: linear-gradient(180deg, #1e3c72 0%, #2a5298 100%);
    color: white;
    border-bottom: 3px solid var(--blue);
}

.card-joiner {
    background: linear-gradient(180deg, #8E0E00 0%, #1F1C18 100%);
    color: white;
    border-bottom: 3px solid var(--red);
}

.card-icon {
    font-size: 1.5em; /* Mniejsze ikony */
    margin-bottom: 2px;
}

.pvp-winner-text {
    text-align: center;
    font-size: 1.5em;
    min-height: 1.2em;
    margin-top: 10px;
    opacity: 0;
    transition: opacity 0.3s;
    font-weight: 800;
}

.animate-winner-text {
    opacity: 1;
    animation: flash-accent 1s infinite;
}

/* Cienie po bokach dla głębi */
.roulette-window.embedded::before, .roulette-window.embedded::after {
    content: '';
    position: absolute;
    top: 0; bottom: 0;
    width: 40px;
    z-index: 5;
    pointer-events: none;
}
.roulette-window.embedded::before { left: 0; background: linear-gradient(to right, rgba(0,0,0,0.9), transparent); }
.roulette-window.embedded::after { right: 0; background: linear-gradient(to left, rgba(0,0,0,0.9), transparent); }

@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* --- STYL DLA KAFELKA TURNIEJU --- */
#tournament-panel {
    /* Jeśli masz zdefiniowany grid-area w głównym kontenerze, możesz tu dodać: grid-area: tournament; */
    border: 2px solid #FFD700; /* Złota ramka */
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.1);
    background: linear-gradient(to bottom, var(--panel-color), rgba(255, 215, 0, 0.05));
}

/* Definicja delikatnego pulsowania neonu */
@keyframes text-glow {
    0% { text-shadow: 0 0 5px var(--accent-color); opacity: 1; }
    50% { text-shadow: 0 0 20px var(--accent-color), 0 0 10px var(--accent-color); opacity: 0.8; }
    100% { text-shadow: 0 0 5px var(--accent-color); opacity: 1; }
}

#tournament-panel h2 {
    /* Używamy nowej animacji text-glow zamiast flash-accent */
    animation: text-glow 3s infinite ease-in-out;
    color: var(--accent-color); /* Fiolet/Róż */
    border-bottom: none;
    text-align: left; /* Lub center, zależnie jak wolisz */
}
